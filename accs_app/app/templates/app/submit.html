{% extends "app/base.html" %}
{% load crispy_forms_tags %}
{% block content %}
<div class="form-content my-4 p-3">
    <div class="row justify-content-center">
        <div class="col-lg-7 align-self-center">
            <form method="POST" enctype="multipart/form-data" id="submit-form">
                {% csrf_token %}
                <fieldset class="form-group">
                    <legend class="border-bottom mb-4">Submit sample</legend>
                    {{ form | crispy }}
                </fieldset>
                <div class="form-group" style="padding-bottom: 15px">
                    <button class="col-md-12 btn btn-outline-info" type="submit" id="submit-button">Start analysis</button>
                </div>
                <!-- Loading bar -->
                <div id="loading-bar" style="display: none; margin-top: 10px;">
                    <div class="progress">
                        <div class="progress-bar progress-bar-striped progress-bar-animated"
                             role="progressbar" style="width: 100%;">
                            Uploading ...
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
    <script>
        document.getElementById("submit-form").addEventListener("submit", function(event) {
            // Disable the submit button
            document.getElementById("submit-button").disabled = true;

            // Show the loading bar
            document.getElementById("loading-bar").style.display = "block";
        });
    </script>

{% endblock content %}
